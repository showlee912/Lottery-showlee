# 设计模式
## 工厂模式
在domain层的award奖品发放模块中：
定义了四种奖品，并使用DistributionGoodsFactory工厂类决定生成哪种奖品。
客户端在使用时，只需要传入对应奖品的code，即可拿到相应的奖品。

## 状态模式
控制活动状态的流转
状态：
编辑中->待审核->审核通过/审核拒绝->活动运行中->活动关闭->活动开启

在domain层的activity模块中：
AbstractState基类：定义了所有的状态流转方法
具体的状态类：继承AbstractState，实现全部的流转方法，规定自身状态是否能流转向其他状态
StateHandlerImpl状态处理器（上下文）：根据当前状态，调用对应的状态类中具体的流转方法

## 模版模式+策略模式
处理抽奖流程
在domain层的strategy模块中：
AbstractDrawBase基类：定义抽奖过程的骨架方法（模版方法模式）
    1. 获取抽奖策略
    2. 校验抽奖策略是否已经初始化到内存
    3. 获取不在抽奖范围内的列表
    4. 执行抽奖算法（未实现交给子类完成）
    5. 包装中奖结果并返回
DrawExecImpl类：继承AbstractDrawBase，实现具体的抽奖算法调用过程

IDrawAlgorithm接口定义了算法的行为，总体概率/单项概率算法类为具体的算法（策略模式）
在使用时，只需要调用DrawConfig上下文类，传入相应的参数，来调用对应的算法



## 组合模式
处理抽奖人群的规则引擎，对特定的人群开放特定的抽奖活动
在domain层的rule模块中：
将年龄和性别作为筛选的规则，即分支节点，对应的叶子节点为能参与的活动号


